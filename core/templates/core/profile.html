{% extends 'base.html' %}
{% block title %}Perfil{% endblock %}

{% block content %}
<div class="card shadow-sm mx-auto" style="max-width: 650px;">
  <div class="card-body">

    <!-- Avatar + Nombre + Botón editar -->
    <div class="d-flex align-items-center gap-3 mb-4">
      <div class="rounded-circle bg-primary d-flex align-items-center justify-content-center text-white fw-bold"
           style="width: 64px; height: 64px; font-size: 1.6rem;">
        {{ profile.usuario.username|first|upper }}
      </div>
      <div class="flex-grow-1">
        <h4 class="mb-0 fw-bold">{{ profile.usuario }}</h4>
        <small class="text-muted"><i class="fas fa-globe me-1"></i>{{ profile.zona_horaria }}</small>
      </div>
      {% if user == profile.usuario %}
        <a href="{% url 'core:profile-update' %}" class="btn btn-outline-primary btn-sm">
          <i class="fas fa-pen me-1"></i>Editar
        </a>
      {% endif %}
    </div>

    <!-- Biografía -->
    <div class="mb-3">
      <h6 class="fw-semibold text-muted text-uppercase" style="font-size: 0.75rem; letter-spacing: 0.08em;">
        <i class="fas fa-user me-1"></i>Biografía
      </h6>
      <p class="mb-0">{{ profile.biografia|default:"Sin biografía." }}</p>
    </div>

    <hr>

    <!-- Disponibilidad -->
    <div class="mb-3">
      <h6 class="fw-semibold text-muted text-uppercase" style="font-size: 0.75rem; letter-spacing: 0.08em;">
        <i class="fas fa-clock me-1"></i>Disponibilidad
      </h6>
      {% if profile.disponibilidad == 'Add your availability here\nAñade tu disponibilidad aquí' %}
        <p class="text-muted fst-italic mb-0">Sin preferencias de disponibilidad.</p>
      {% else %}
        <p class="mb-0">{{ profile.disponibilidad|default:"Sin disponibilidad." }}</p>
      {% endif %}
    </div>

    <hr>

    <!-- Habilidades -->
    <div>
      <h6 class="fw-semibold text-muted text-uppercase mb-2" style="font-size: 0.75rem; letter-spacing: 0.08em;">
        <i class="fas fa-star me-1"></i>Habilidades
      </h6>
      <div class="d-flex flex-wrap gap-2">
        {% for habilidad in profile.habilidades.all %}
          <span class="badge bg-primary">{{ habilidad.nombre }}</span>
        {% empty %}
          <p class="text-muted fst-italic mb-0">Sin habilidades registradas.</p>
        {% endfor %}
      </div>
    </div>

  </div>
</div>
{% endblock %}